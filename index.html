<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width,initial-scale=1.0,maximum-scale=1.0,minimum-scale=1.0,user-scalable=no">
    <meta name="apple-touch-fullscreen" content="YES">
    <meta name="format-detection" content="telephone=no">
    <meta name="apple-mobile-web-app-status-bar-style" content="black"/>
    <title>AR</title>
    <script src="./libs/eruda.min.js"></script>
    <script>
        window.onload = function(){
            var el = document.createElement('div');
            document.body.appendChild(el);
            eruda.init({container: el});
        }
    </script>
    <!--<script src="aframe/build/aframe-ar.js"></script>-->
</head>
<body>
<video id="player"></video>
</body>
<script>
    (function () {
        try{
            alert(navigator.mediaDevices.getUserMedia);
            var player = document.getElementById("player");
            navigator.mediaDevices.getUserMedia({ audio: true, video: { facingMode: "user" } })
                    .then(function (steam) {
                        alert("OK");
                        player.src = steam;
                        player.play();
                    })
                    .catch(function (err) {
                        alert(err);
                    })
        }catch(e){
            alert(e);
        }
    })();
</script>
</html>